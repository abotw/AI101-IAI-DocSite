
# Arm Motion Memory

## 1. API Overview

This section introduces the APIs related to **motion learning and playback** of the robotic arm.

---

### 1.1 Enter or Exit Learning Mode

**Function:**

```python
Arm_Button_Mode(enable)
```

**Description:**  
Enables or disables the robotic arm’s learning mode.

**Parameters:**

- `enable`:
    
    - `0` — Exit learning mode
        
    - `1` — Enter learning mode
        

**Behavior:**

- When entering learning mode:
    
    - The RGB LED on the control board enters a **breathing light** state.
        
    - The arm automatically **disables torque**, allowing manual adjustment of joint angles.
        
    - Each time the **K1 button** on the board is pressed, the breathing light color changes, and the current arm pose is recorded.
        
    - Up to **20 motion groups** can be stored. When this limit is reached, the RGB light turns **red**, and no further poses can be recorded.
        
- When exiting learning mode:
    
    - Torque is re-enabled.
        
    - The RGB LED is turned off.
        

**Return Value:** None

---

### 1.2 Read the Number of Recorded Actions

**Function:**

```python
Arm_Read_Action_Num()
```

**Description:**  
Reads the number of currently recorded motion groups.

**Return Value:**  
The total number of saved motion groups.

---

### 1.3 Run Recorded Actions

**Function:**

```python
Arm_Action_Mode(mode)
```

**Description:**  
Executes recorded motion sequences.

**Parameters:**

- `mode`:
    
    - `0` — Stop running actions
        
    - `1` — Run the recorded motions once
        
    - `2` — Loop through all recorded motions continuously
        

**Return Value:** None

---

### 1.4 Clear Recorded Actions

**Function:**

```python
Arm_Clear_Action()
```

**Description:**  
Clears all recorded motion groups.  
⚠️ **This operation cannot be undone.**

**Return Value:** None

---

### 1.5 Record a Motion in Learning Mode

**Function:**

```python
Arm_Action_Study()
```

**Description:**  
In learning mode, records the current arm pose as a new motion group.  
When the recording succeeds, the RGB breathing light changes color.

**Return Value:** None

---

## 2. Code Example

**File Path:**

```
/home/yahboom/Dofbot/3.ctrl_Arm/8.study_mode.ipynb
```

**Important:**  
Run each cell **step-by-step** in JupyterLab. Do **not** execute all cells at once.

```python
#!/usr/bin/env python3
# coding=utf-8

import time
from Arm_Lib import Arm_Device

# Create the robotic arm object
Arm = Arm_Device()
time.sleep(0.1)

# --- Step 1: Enable learning mode ---
# The RGB LED enters breathing mode, and all servos disable torque,
# allowing free manual movement of the arm.
Arm.Arm_Button_Mode(1)

# --- Step 2: Record current pose ---
# Each call to this function saves the current arm pose.
# The RGB color changes to confirm success.
# When the red light appears, the maximum (20) has been reached.
# You can also press the K1 button on the board instead of calling this function.
Arm.Arm_Action_Study()

# --- Step 3: Exit learning mode ---
# Disables breathing light and re-enables torque.
Arm.Arm_Button_Mode(0)

# --- Step 4: Read the number of recorded actions ---
num = Arm.Arm_Read_Action_Num()
print(num)

# --- Step 5: Run the recorded motions ---
Arm.Arm_Action_Mode(1)   # Run once
Arm.Arm_Action_Mode(2)   # Run in a loop
Arm.Arm_Action_Mode(0)   # Stop running

# --- Step 6: Clear all recorded actions ---
# ⚠️ This cannot be undone. The RGB light turns green when clearing is complete.
Arm.Arm_Clear_Action()

# --- Step 7: Release the Arm object ---
del Arm
```

---

## 3. Operation Notes

In **JupyterLab**, open this notebook and **run each cell sequentially**:

1. Enable learning mode.
    
2. Manually move the robotic arm to desired poses.
    
3. Call `Arm.Arm_Action_Study()` (or press **K1**) to record each pose.
    
4. After recording several poses, disable learning mode.
    
5. Use the above commands to run, loop, or clear the recorded motions.
    

Once completed, you can observe the robotic arm performing the learned motion sequences automatically.
